<div class="nav-left">
    <a pump.href="${rootPath}">
        <svg-loader href="`${rootPath}/cdn/img/entropy-games.svg`"></svg-loader>
    </a>
</div>

<div class="nav-center">
    <a pump.href="${rootPath}/entropy-engine">ENTROPY ENGINE</a>
    <div class="nav-item">
        <a pump.href="${rootPath}/entropy-script">
            ENTROPY SCRIPT
        </a>
        <div class="nav-item-dropdown">
            <a pump.href="${rootPath}/entropy-script/docs" class="ui labeled icon button">
                <i class="file alternate outline icon"></i>
                Documentation
            </a>
            <a pump.href="${rootPath}/entropy-script/run" class="ui labeled icon button">
                <i class="terminal icon"></i>
                Playground
            </a>
        </div>
    </div>
</div>

<div class="nav-right">
    <button
        aria-label="Switch theme"
        bind.click="setTheme(theme === 'light' ? 'dark' : 'light')"
        style="background: none; border: none; outline: none; cursor: pointer;"
    >
        <i pump.class="ui icon big ${theme === 'light' ? 'sun' : 'moon'}"></i>
    </button>
    <a hidden="userInfoIsLoaded" class='ui loading button'></a>
    <drop-down icon="'user'">
        <div class="item">
            Signed in as<br>
            <b pump="user.username"></b>
        </div>
        <div class="item">
            <a pump.href='${rootPath}/@/?u=${user.username}'>
                Your Profile
            </a>
        </div>
    </drop-down>
    <a hidden='signedIn' pump.href='${rootPath}/auth/sign-in'>
        <i class='sign-in icon big'></i>
    </a>
</div>
<style>
    nav {
        display: grid;
        justify-content: space-between;
        align-items: center;
        grid-template-columns: 1fr 1fr 1fr;
        padding: 0 5px;
        background: var(--nav-colour);
        height: var(--nav-height);
        width: 100%;
        border-bottom: 2px solid var(--nav-border-bottom);
        margin-bottom: 15px;
    }

    nav * {
        max-height: var(--nav-height);
    }

    nav a {
        display: flex;
        align-items: center;
        text-align: center;
        text-decoration: none;
        height: 100%;
        padding: 4px;
        margin: 0 16px;
    }

    nav a:hover {
        color: var(--text-lighter);
    }
    .nav-left,
    .nav-right,
    .nav-center {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .nav-left > *,
    .nav-right > * {
        padding: 0 5px;
    }

    .nav-right {
        justify-content: flex-end;
    }

    .nav-item {
        position: relative;
        display: inline-block;
    }

    .nav-item .nav-item-dropdown {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        width: 200px;
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
        padding: 0;
        z-index: 2;
        background: var(--bg-accent);
        height: fit-content;
        border-radius: 5px;
    }

    .nav-item:hover .nav-item-dropdown {
        display: block;
    }

    .nav-item .nav-item-dropdown > * {
        width: 100%;
        background: transparent;
        cursor: pointer;
    }

    .nav-item .nav-item-dropdown .button {
        margin: 0;
        padding: 10px 0;
        background: none;
        border: none !important;
        outline: none;
    }

    .nav-item .nav-item-dropdown .button:hover {
        background: var(--bg);
    }
</style>